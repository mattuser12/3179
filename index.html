<!DOCTYPE html>
<html>

<head>
  <title>Multiple Visualisations | An Example</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="./css/styles.css" media="all">

<body>

  <div class="page">

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>Tokyo Olympics</h1>
        <p>The following map shows the locations of the past Olympics up until 2016. Some cities have hosted the
          Olympics several times, which is represented by a different colour.</p>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g center-content">
      <div class="pure-u-1-2">
        <div id="vis1" class="vis-container"></div>
      </div>
    </div>
    <!-- end pure grid group -->

    <div class="pure-g">
      <div class="pure-u-1-2">
        <button id="seasonButton" class="pure-button">Change Season</button>
      </div>
    </div>

    <div class="pure-g">
      <div class="pure-u-1-4">
        <div id="visContainer" class="vis-container">
          <div id="vis2"></div>
        </div>
      </div>
      <div class="pure-u-1-4"></div>
      <div class="pure-u-1-4"></div>
      <div class="pure-u-1-4">
        <p style="padding: 20px; align-items: center; justify-content: center;">The chart shows the most popular sports
          by player count for both Summer and Winter Olympics over the years. Empty squares indicate that the sport was
          either not in the Olympics at that time or there is no data.</p>
      </div>
    </div>


    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-4">
        <p style="padding: 20px;">The chart shows the average age of competitors in each sport across the years. Some
          sports have a clearly higher age bracket than others. Click a sport in the legend to highlight it on the
          graph.</p>
      </div>
      <div class="pure-u-1-4">
        <div id="vis4" class="vis-container"></div>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-4">
      </div>
      <div class="pure-u-1-4">
        <div id="vis5" class="vis-container"></div>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-4">
        <div id="vis6" class="vis-container"></div>
      </div>
      <div class="pure-u-1-4"></div>
      <div class="pure-u-1-4"></div>
      <div class="pure-u-1-4">
        <p style="padding: 20px; align-items: center; justify-content: center;">The chart shows the gender ratio of
          males and females each year of the Olympics. Each bar adds up to 100% and as you can see, the proportion of
          women to men participating in the Olympics is steadily increasing.</p>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-4">
        <div id="vis7" class="vis-container"></div>
      </div>
    </div>
    <!-- end pure grid group -->

  </div> <!-- end page -->

  <script type="text/javascript">
    var specVis1 = "./js/map.json";
    var specVis2 = "./js/summer_numbers.json";
    var specVis3 = "./js/winter_numbers.json";
    var specVis4 = "./js/summer_age.json";
    var specVis5 = "./js/winter_age.json";
    var specVis6 = "./js/summer_gender.json";
    var specVis7 = "./js/winter_gender.json";

    vegaEmbed('#vis1', specVis1, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    vegaEmbed('#vis2', specVis2, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    vegaEmbed('#vis3', specVis3, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    vegaEmbed('#vis4', specVis4, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    vegaEmbed('#vis5', specVis5, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    vegaEmbed('#vis6', specVis6, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
    vegaEmbed('#vis7', specVis7, { "actions": false }).then(function (result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    document.getElementById("seasonButton").addEventListener("click", function () {
      toggleVis();
    });

    function toggleVis() {
      var visContainer = document.getElementById("visContainer");
      var currentVisualization = visContainer.firstChild; // Get the current visualization inside visContainer

      if (currentVisualization.id === "vis2") {
        visContainer.innerHTML = ""; // Clear the content inside visContainer
        visContainer.appendChild(document.getElementById("vis3")); // Add vis3 to visContainer
      } else {
        visContainer.innerHTML = ""; // Clear the content inside visContainer
        visContainer.appendChild(document.getElementById("vis2")); // Add vis2 to visContainer
      }
    }
  </script>
</body>

</html>